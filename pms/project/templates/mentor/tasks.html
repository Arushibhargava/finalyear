{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/tasks.css' %}">
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="profile-section">
                <div class="profile-icon"></div>
                <h2>Mentor</h2>
            </div>
            <nav>
                <ul>
                    <li onclick="navigateTo('{% url 'dashboard' %}')">My Teams</li>
                    <li class="active" onclick="navigateTo('{% url 'tasks' %}')">Tasks</li>
                    <li onclick="navigateTo('{% url 'notification' %}')">Notification</li>
                    <li onclick="navigateTo('{% url 'report' %}')">Report</li>
                </ul>
            </nav>
            <div class="logout-btn" onclick="navigateTo('{% url 'Mlogin' %}')">Logout</div>
        </aside>
        <main class="content">
            <header class="header">
                <h1><span class="icon">ðŸ“‹</span> Tasks</h1>
            </header>
            <section class="tasks-section">
                <div class="tasks-header">
                    <h2>Tasks</h2>
                    <button class="add-task-btn" onclick="openAddTaskForm()">+ Add Task</button>
                </div>
                <table class="tasks-table">
                    <thead>
                        <tr>
                            <th>Document Title</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Upload File</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="tasks-list">
                        <tr>
                            <td>Project Proposal</td>
                            <td>2025-01-20</td>
                            <td>2025-01-25</td>
                            <td>
                                <label for="upload-proposal" class="upload-label">Upload</label>
                                <input type="file" id="upload-proposal" class="file-input" onchange="handleFileUpload(this)">
                            </td>
                            <td>
                                <select>
                                    <option value="pending">Pending</option>
                                    <option value="updated">Updated</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Final Report</td>
                            <td>2025-01-10</td>
                            <td>2025-01-15</td>
                            <td>
                                <label for="upload-final" class="upload-label">Upload</label>
                                <input type="file" id="upload-final" class="file-input" onchange="handleFileUpload(this)">
                            </td>
                            <td>
                                <select>
                                    <option value="pending">Pending</option>
                                    <option value="updated">Updated</option>
                                </select>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </div>

    <!-- Add Task Form Modal -->
    <div class="modal" id="add-task-modal">
        <div class="modal-content">
            <header class="modal-header">
                <h2>Add Task</h2>
                <button class="close-btn" onclick="closeAddTaskForm()">âœ–</button>
            </header>
            <form id="add-task-form" onsubmit="addTask(event)">
                <div class="form-group">
                    <label for="document-title">Document Title</label>
                    <input type="text" id="document-title" placeholder="Enter Document Title" required>
                </div>
                <div class="form-group">
                    <label for="start-date">Start Date</label>
                    <input type="date" id="start-date" required>
                </div>
                <div class="form-group">
                    <label for="end-date">End Date</label>
                    <input type="date" id="end-date" required>
                </div>
                <div class="form-group">
                    <label for="file-upload">Upload File</label>
                    <input type="file" id="file-upload" required>
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" placeholder="Enter Task Description" required></textarea>
                </div>
                <button type="submit" class="add-task-btn">Add</button>
            </form>
        </div>
    </div>
    <script src="{% static 'js/tasks.js' %}"></script>
</body>
</html>
